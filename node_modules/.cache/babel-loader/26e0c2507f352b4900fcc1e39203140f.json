{"ast":null,"code":"import { useEffect } from 'react';\nimport { useFreshTick } from './useFreshTick.js';\nimport { useIsomorphicEffect } from './useIsomorphicEffect.js';\nimport { useRefElement } from './useRefElement.js';\nimport { noop } from '../utils/noop.js';\n\n/**\r\n *  useEventListenerRef hook\r\n *\r\n *  A react hook to an event listener to an element\r\n *  Returns a ref\r\n *\r\n * @param {string} eventName The event to track`\r\n * @param {Function} callback The callback to be called on event\r\n * @param {object} listenerOptions The options to be passed to the event listener\r\n * @param {boolean} isLayoutEffect Should it use layout effect. Defaults to false\r\n * @returns {Function} A callback ref that can be used as ref prop\r\n * @see https://react-hooks.org/docs/useEventListenerRef\r\n */\nfunction useEventListenerRef(eventName, callback) {\n  let listenerOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let isLayoutEffect = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  const [ref, element] = useRefElement();\n  const freshCallback = useFreshTick(callback);\n  const useEffectToRun = isLayoutEffect ? useIsomorphicEffect : useEffect;\n  useEffectToRun(() => {\n    if (!(element === null || element === void 0 ? void 0 : element.addEventListener)) {\n      return noop;\n    }\n    element.addEventListener(eventName, freshCallback, listenerOptions);\n    return () => {\n      element.removeEventListener(eventName, freshCallback, listenerOptions);\n    };\n  }, [element, eventName, listenerOptions]);\n  return ref;\n}\nexport { useEventListenerRef };","map":{"version":3,"names":["useEffect","useFreshTick","useIsomorphicEffect","useRefElement","noop","useEventListenerRef","eventName","callback","listenerOptions","isLayoutEffect","ref","element","freshCallback","useEffectToRun","addEventListener","removeEventListener"],"sources":["C:/github/wanted/node_modules/rooks/dist/esm/hooks/useEventListenerRef.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useFreshTick } from './useFreshTick.js';\nimport { useIsomorphicEffect } from './useIsomorphicEffect.js';\nimport { useRefElement } from './useRefElement.js';\nimport { noop } from '../utils/noop.js';\n\n/**\r\n *  useEventListenerRef hook\r\n *\r\n *  A react hook to an event listener to an element\r\n *  Returns a ref\r\n *\r\n * @param {string} eventName The event to track`\r\n * @param {Function} callback The callback to be called on event\r\n * @param {object} listenerOptions The options to be passed to the event listener\r\n * @param {boolean} isLayoutEffect Should it use layout effect. Defaults to false\r\n * @returns {Function} A callback ref that can be used as ref prop\r\n * @see https://react-hooks.org/docs/useEventListenerRef\r\n */\r\nfunction useEventListenerRef(eventName, callback, listenerOptions = {}, isLayoutEffect = false) {\r\n    const [ref, element] = useRefElement();\r\n    const freshCallback = useFreshTick(callback);\r\n    const useEffectToRun = isLayoutEffect ? useIsomorphicEffect : useEffect;\r\n    useEffectToRun(() => {\r\n        if (!(element === null || element === void 0 ? void 0 : element.addEventListener)) {\r\n            return noop;\r\n        }\r\n        element.addEventListener(eventName, freshCallback, listenerOptions);\r\n        return () => {\r\n            element.removeEventListener(eventName, freshCallback, listenerOptions);\r\n        };\r\n    }, [element, eventName, listenerOptions]);\r\n    return ref;\r\n}\n\nexport { useEventListenerRef };\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,YAAY,QAAQ,mBAAmB;AAChD,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAASC,IAAI,QAAQ,kBAAkB;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,mBAAmB,CAACC,SAAS,EAAEC,QAAQ,EAAgD;EAAA,IAA9CC,eAAe,uEAAG,CAAC,CAAC;EAAA,IAAEC,cAAc,uEAAG,KAAK;EAC1F,MAAM,CAACC,GAAG,EAAEC,OAAO,CAAC,GAAGR,aAAa,EAAE;EACtC,MAAMS,aAAa,GAAGX,YAAY,CAACM,QAAQ,CAAC;EAC5C,MAAMM,cAAc,GAAGJ,cAAc,GAAGP,mBAAmB,GAAGF,SAAS;EACvEa,cAAc,CAAC,MAAM;IACjB,IAAI,EAAEF,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACG,gBAAgB,CAAC,EAAE;MAC/E,OAAOV,IAAI;IACf;IACAO,OAAO,CAACG,gBAAgB,CAACR,SAAS,EAAEM,aAAa,EAAEJ,eAAe,CAAC;IACnE,OAAO,MAAM;MACTG,OAAO,CAACI,mBAAmB,CAACT,SAAS,EAAEM,aAAa,EAAEJ,eAAe,CAAC;IAC1E,CAAC;EACL,CAAC,EAAE,CAACG,OAAO,EAAEL,SAAS,EAAEE,eAAe,CAAC,CAAC;EACzC,OAAOE,GAAG;AACd;AAEA,SAASL,mBAAmB"},"metadata":{},"sourceType":"module"}