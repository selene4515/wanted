{"ast":null,"code":"import { useEffect, useState, useCallback } from 'react';\nvar config = {\n  attributes: true,\n  characterData: true,\n  subtree: true,\n  childList: true\n};\n/**\r\n *\r\n * useMutationObserver hook\r\n *\r\n * Returns a mutation observer for a React Ref and fires a callback\r\n *\r\n * @param {MutableRefObject<HTMLElement | null>} ref React ref on which mutations are to be observed\r\n * @param {MutationCallback} callback Function that needs to be fired on mutation\r\n * @param {MutationObserverInit} options\r\n */\nfunction useMutationObserver(ref, callback) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : config;\n  useEffect(() => {\n    // Create an observer instance linked to the callback function\n    if (ref.current) {\n      const observer = new MutationObserver(callback);\n      // Start observing the target node for configured mutations\n      observer.observe(ref.current, options);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [callback, options]);\n}\n\n/**\r\n * useDidMount hook\r\n * Calls a function on mount\r\n *\r\n * @param {function} callback Callback function to be called on mount\r\n */\nfunction useDidMount(callback) {\n  useEffect(() => {\n    if (typeof callback === \"function\") {\n      callback();\n    }\n  }, []);\n}\n\n/**\r\n * @param element HTML element whose boundingclientrect is needed\r\n * @return ClientRect\r\n */\nfunction getBoundingClientRect(element) {\n  return element.getBoundingClientRect();\n}\n/**\r\n * useBoundingclientRect hook\r\n * @param ref The React ref whose ClientRect is needed\r\n * @return ClientRect\r\n */\nfunction useBoundingclientrect(ref) {\n  const [value, setValue] = useState(null);\n  const update = useCallback(() => {\n    setValue(ref.current ? getBoundingClientRect(ref.current) : null);\n  }, []);\n  useDidMount(() => {\n    update();\n  });\n  useMutationObserver(ref, update);\n  return value;\n}\nexport default useBoundingclientrect;","map":{"version":3,"mappings":"","names":[],"sources":[],"sourcesContent":["import { useEffect, useState, useCallback } from 'react';\n\nvar config = {\r\n    attributes: true,\r\n    characterData: true,\r\n    subtree: true,\r\n    childList: true\r\n};\r\n/**\r\n *\r\n * useMutationObserver hook\r\n *\r\n * Returns a mutation observer for a React Ref and fires a callback\r\n *\r\n * @param {MutableRefObject<HTMLElement | null>} ref React ref on which mutations are to be observed\r\n * @param {MutationCallback} callback Function that needs to be fired on mutation\r\n * @param {MutationObserverInit} options\r\n */\r\nfunction useMutationObserver(ref, callback, options = config) {\r\n    useEffect(() => {\r\n        // Create an observer instance linked to the callback function\r\n        if (ref.current) {\r\n            const observer = new MutationObserver(callback);\r\n            // Start observing the target node for configured mutations\r\n            observer.observe(ref.current, options);\r\n            return () => {\r\n                observer.disconnect();\r\n            };\r\n        }\r\n    }, [callback, options]);\r\n}\n\n/**\r\n * useDidMount hook\r\n * Calls a function on mount\r\n *\r\n * @param {function} callback Callback function to be called on mount\r\n */\r\nfunction useDidMount(callback) {\r\n    useEffect(() => {\r\n        if (typeof callback === \"function\") {\r\n            callback();\r\n        }\r\n    }, []);\r\n}\n\n/**\r\n * @param element HTML element whose boundingclientrect is needed\r\n * @return ClientRect\r\n */\r\nfunction getBoundingClientRect(element) {\r\n    return element.getBoundingClientRect();\r\n}\r\n/**\r\n * useBoundingclientRect hook\r\n * @param ref The React ref whose ClientRect is needed\r\n * @return ClientRect\r\n */\r\nfunction useBoundingclientrect(ref) {\r\n    const [value, setValue] = useState(null);\r\n    const update = useCallback(() => {\r\n        setValue(ref.current ? getBoundingClientRect(ref.current) : null);\r\n    }, []);\r\n    useDidMount(() => {\r\n        update();\r\n    });\r\n    useMutationObserver(ref, update);\r\n    return value;\r\n}\n\nexport default useBoundingclientrect;\n"]},"metadata":{},"sourceType":"module"}