{"ast":null,"code":"import { useState, useCallback } from 'react';\n\n/* eslint-disable no-negated-condition */\nfunction warnIfBothValueAndIndexAreProvided(functionName, object) {\n  if (Object.values(object).every(value => typeof value !== \"undefined\")) {\n    console.warn(`${functionName}. Expected either ${Object.keys(object).join(\" or \")} to be provided. However all were provided`);\n  } else if (Object.values(object).every(value => typeof value === \"undefined\")) {\n    console.warn(`${functionName}. ${Object.keys(object).join(\" , \")} are all undefined.`);\n  }\n}\n/**\r\n * useSelectableList\r\n * Easily select a single value from a list of values. very useful for radio buttons, select inputs  etc.\r\n *\r\n * @param list - The list of values to select from\r\n * @param initialIndex  - The index of the initial selection\r\n * @param allowUnselected\r\n * @see https://react-hooks.org/docs/useSelectableList\r\n */\nfunction useSelectableList() {\n  let list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let initialIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  let allowUnselected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  const [currentIndex, setCurrentIndex] = useState(initialIndex);\n  const currentValue = list[currentIndex];\n  const selection = [currentIndex, currentValue];\n  const updateSelection = useCallback(_ref => {\n    let {\n      index,\n      value\n    } = _ref;\n    return () => {\n      warnIfBothValueAndIndexAreProvided(\"updateSelection\", {\n        index,\n        value\n      });\n      if (typeof index !== \"undefined\") {\n        setCurrentIndex(index);\n      } else if (typeof value !== \"undefined\") {\n        const valueIndex = list.indexOf(value);\n        if (valueIndex > -1) {\n          setCurrentIndex(valueIndex);\n        } else {\n          console.warn(`updateSelection failed. Does the value ${value} exist in the list?`);\n        }\n      }\n    };\n  }, [list]);\n  const toggleSelection = useCallback(_ref2 => {\n    let {\n      index,\n      value\n    } = _ref2;\n    return () => {\n      warnIfBothValueAndIndexAreProvided(\"toggleSelection\", {\n        index,\n        value\n      });\n      if (typeof index !== \"undefined\") {\n        if (currentIndex === index) {\n          if (allowUnselected) {\n            setCurrentIndex(-1);\n          } else {\n            console.warn(\"allowUnselected is false. Cannot unselect item\");\n          }\n        } else {\n          setCurrentIndex(index);\n        }\n      } else if (typeof value !== \"undefined\") {\n        const valueIndex = list.indexOf(value);\n        if (valueIndex > -1) {\n          if (currentIndex === valueIndex) {\n            if (allowUnselected) {\n              setCurrentIndex(-1);\n            } else {\n              console.warn(\"allowUnselected is false. Cannot unselect item\");\n            }\n          } else {\n            setCurrentIndex(valueIndex);\n          }\n        } else {\n          console.log(\"as\");\n          console.warn(`toggleSelection failed. Does the value ${value} exist in the list?`);\n        }\n      }\n    };\n  }, [allowUnselected, currentIndex, list]);\n  const matchSelection = useCallback(_ref3 => {\n    let {\n      index,\n      value\n    } = _ref3;\n    warnIfBothValueAndIndexAreProvided(\"matchSelection\", {\n      index,\n      value\n    });\n    if (typeof index !== \"undefined\") {\n      return index === currentIndex;\n    } else {\n      return value === currentValue;\n    }\n  }, [currentIndex, currentValue]);\n  const controls = {\n    matchSelection,\n    toggleSelection,\n    updateSelection\n  };\n  return [selection, controls];\n}\nexport { useSelectableList };","map":{"version":3,"names":["useState","useCallback","warnIfBothValueAndIndexAreProvided","functionName","object","Object","values","every","value","console","warn","keys","join","useSelectableList","list","initialIndex","allowUnselected","currentIndex","setCurrentIndex","currentValue","selection","updateSelection","index","valueIndex","indexOf","toggleSelection","log","matchSelection","controls"],"sources":["C:/github/wanted/node_modules/rooks/dist/esm/hooks/useSelectableList.js"],"sourcesContent":["import { useState, useCallback } from 'react';\n\n/* eslint-disable no-negated-condition */\r\nfunction warnIfBothValueAndIndexAreProvided(functionName, object) {\r\n    if (Object.values(object).every((value) => typeof value !== \"undefined\")) {\r\n        console.warn(`${functionName}. Expected either ${Object.keys(object).join(\" or \")} to be provided. However all were provided`);\r\n    }\r\n    else if (Object.values(object).every((value) => typeof value === \"undefined\")) {\r\n        console.warn(`${functionName}. ${Object.keys(object).join(\" , \")} are all undefined.`);\r\n    }\r\n}\r\n/**\r\n * useSelectableList\r\n * Easily select a single value from a list of values. very useful for radio buttons, select inputs  etc.\r\n *\r\n * @param list - The list of values to select from\r\n * @param initialIndex  - The index of the initial selection\r\n * @param allowUnselected\r\n * @see https://react-hooks.org/docs/useSelectableList\r\n */\r\nfunction useSelectableList(list = [], initialIndex = 0, allowUnselected = false) {\r\n    const [currentIndex, setCurrentIndex] = useState(initialIndex);\r\n    const currentValue = list[currentIndex];\r\n    const selection = [currentIndex, currentValue];\r\n    const updateSelection = useCallback(({ index, value }) => {\r\n        return () => {\r\n            warnIfBothValueAndIndexAreProvided(\"updateSelection\", { index, value });\r\n            if (typeof index !== \"undefined\") {\r\n                setCurrentIndex(index);\r\n            }\r\n            else if (typeof value !== \"undefined\") {\r\n                const valueIndex = list.indexOf(value);\r\n                if (valueIndex > -1) {\r\n                    setCurrentIndex(valueIndex);\r\n                }\r\n                else {\r\n                    console.warn(`updateSelection failed. Does the value ${value} exist in the list?`);\r\n                }\r\n            }\r\n        };\r\n    }, [list]);\r\n    const toggleSelection = useCallback(({ index, value }) => {\r\n        return () => {\r\n            warnIfBothValueAndIndexAreProvided(\"toggleSelection\", { index, value });\r\n            if (typeof index !== \"undefined\") {\r\n                if (currentIndex === index) {\r\n                    if (allowUnselected) {\r\n                        setCurrentIndex(-1);\r\n                    }\r\n                    else {\r\n                        console.warn(\"allowUnselected is false. Cannot unselect item\");\r\n                    }\r\n                }\r\n                else {\r\n                    setCurrentIndex(index);\r\n                }\r\n            }\r\n            else if (typeof value !== \"undefined\") {\r\n                const valueIndex = list.indexOf(value);\r\n                if (valueIndex > -1) {\r\n                    if (currentIndex === valueIndex) {\r\n                        if (allowUnselected) {\r\n                            setCurrentIndex(-1);\r\n                        }\r\n                        else {\r\n                            console.warn(\"allowUnselected is false. Cannot unselect item\");\r\n                        }\r\n                    }\r\n                    else {\r\n                        setCurrentIndex(valueIndex);\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(\"as\");\r\n                    console.warn(`toggleSelection failed. Does the value ${value} exist in the list?`);\r\n                }\r\n            }\r\n        };\r\n    }, [allowUnselected, currentIndex, list]);\r\n    const matchSelection = useCallback(({ index, value }) => {\r\n        warnIfBothValueAndIndexAreProvided(\"matchSelection\", { index, value });\r\n        if (typeof index !== \"undefined\") {\r\n            return index === currentIndex;\r\n        }\r\n        else {\r\n            return value === currentValue;\r\n        }\r\n    }, [currentIndex, currentValue]);\r\n    const controls = {\r\n        matchSelection,\r\n        toggleSelection,\r\n        updateSelection,\r\n    };\r\n    return [selection, controls];\r\n}\n\nexport { useSelectableList };\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;;AAE7C;AACA,SAASC,kCAAkC,CAACC,YAAY,EAAEC,MAAM,EAAE;EAC9D,IAAIC,MAAM,CAACC,MAAM,CAACF,MAAM,CAAC,CAACG,KAAK,CAAEC,KAAK,IAAK,OAAOA,KAAK,KAAK,WAAW,CAAC,EAAE;IACtEC,OAAO,CAACC,IAAI,CAAE,GAAEP,YAAa,qBAAoBE,MAAM,CAACM,IAAI,CAACP,MAAM,CAAC,CAACQ,IAAI,CAAC,MAAM,CAAE,4CAA2C,CAAC;EAClI,CAAC,MACI,IAAIP,MAAM,CAACC,MAAM,CAACF,MAAM,CAAC,CAACG,KAAK,CAAEC,KAAK,IAAK,OAAOA,KAAK,KAAK,WAAW,CAAC,EAAE;IAC3EC,OAAO,CAACC,IAAI,CAAE,GAAEP,YAAa,KAAIE,MAAM,CAACM,IAAI,CAACP,MAAM,CAAC,CAACQ,IAAI,CAAC,KAAK,CAAE,qBAAoB,CAAC;EAC1F;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,iBAAiB,GAAuD;EAAA,IAAtDC,IAAI,uEAAG,EAAE;EAAA,IAAEC,YAAY,uEAAG,CAAC;EAAA,IAAEC,eAAe,uEAAG,KAAK;EAC3E,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAACe,YAAY,CAAC;EAC9D,MAAMI,YAAY,GAAGL,IAAI,CAACG,YAAY,CAAC;EACvC,MAAMG,SAAS,GAAG,CAACH,YAAY,EAAEE,YAAY,CAAC;EAC9C,MAAME,eAAe,GAAGpB,WAAW,CAAC,QAAsB;IAAA,IAArB;MAAEqB,KAAK;MAAEd;IAAM,CAAC;IACjD,OAAO,MAAM;MACTN,kCAAkC,CAAC,iBAAiB,EAAE;QAAEoB,KAAK;QAAEd;MAAM,CAAC,CAAC;MACvE,IAAI,OAAOc,KAAK,KAAK,WAAW,EAAE;QAC9BJ,eAAe,CAACI,KAAK,CAAC;MAC1B,CAAC,MACI,IAAI,OAAOd,KAAK,KAAK,WAAW,EAAE;QACnC,MAAMe,UAAU,GAAGT,IAAI,CAACU,OAAO,CAAChB,KAAK,CAAC;QACtC,IAAIe,UAAU,GAAG,CAAC,CAAC,EAAE;UACjBL,eAAe,CAACK,UAAU,CAAC;QAC/B,CAAC,MACI;UACDd,OAAO,CAACC,IAAI,CAAE,0CAAyCF,KAAM,qBAAoB,CAAC;QACtF;MACJ;IACJ,CAAC;EACL,CAAC,EAAE,CAACM,IAAI,CAAC,CAAC;EACV,MAAMW,eAAe,GAAGxB,WAAW,CAAC,SAAsB;IAAA,IAArB;MAAEqB,KAAK;MAAEd;IAAM,CAAC;IACjD,OAAO,MAAM;MACTN,kCAAkC,CAAC,iBAAiB,EAAE;QAAEoB,KAAK;QAAEd;MAAM,CAAC,CAAC;MACvE,IAAI,OAAOc,KAAK,KAAK,WAAW,EAAE;QAC9B,IAAIL,YAAY,KAAKK,KAAK,EAAE;UACxB,IAAIN,eAAe,EAAE;YACjBE,eAAe,CAAC,CAAC,CAAC,CAAC;UACvB,CAAC,MACI;YACDT,OAAO,CAACC,IAAI,CAAC,gDAAgD,CAAC;UAClE;QACJ,CAAC,MACI;UACDQ,eAAe,CAACI,KAAK,CAAC;QAC1B;MACJ,CAAC,MACI,IAAI,OAAOd,KAAK,KAAK,WAAW,EAAE;QACnC,MAAMe,UAAU,GAAGT,IAAI,CAACU,OAAO,CAAChB,KAAK,CAAC;QACtC,IAAIe,UAAU,GAAG,CAAC,CAAC,EAAE;UACjB,IAAIN,YAAY,KAAKM,UAAU,EAAE;YAC7B,IAAIP,eAAe,EAAE;cACjBE,eAAe,CAAC,CAAC,CAAC,CAAC;YACvB,CAAC,MACI;cACDT,OAAO,CAACC,IAAI,CAAC,gDAAgD,CAAC;YAClE;UACJ,CAAC,MACI;YACDQ,eAAe,CAACK,UAAU,CAAC;UAC/B;QACJ,CAAC,MACI;UACDd,OAAO,CAACiB,GAAG,CAAC,IAAI,CAAC;UACjBjB,OAAO,CAACC,IAAI,CAAE,0CAAyCF,KAAM,qBAAoB,CAAC;QACtF;MACJ;IACJ,CAAC;EACL,CAAC,EAAE,CAACQ,eAAe,EAAEC,YAAY,EAAEH,IAAI,CAAC,CAAC;EACzC,MAAMa,cAAc,GAAG1B,WAAW,CAAC,SAAsB;IAAA,IAArB;MAAEqB,KAAK;MAAEd;IAAM,CAAC;IAChDN,kCAAkC,CAAC,gBAAgB,EAAE;MAAEoB,KAAK;MAAEd;IAAM,CAAC,CAAC;IACtE,IAAI,OAAOc,KAAK,KAAK,WAAW,EAAE;MAC9B,OAAOA,KAAK,KAAKL,YAAY;IACjC,CAAC,MACI;MACD,OAAOT,KAAK,KAAKW,YAAY;IACjC;EACJ,CAAC,EAAE,CAACF,YAAY,EAAEE,YAAY,CAAC,CAAC;EAChC,MAAMS,QAAQ,GAAG;IACbD,cAAc;IACdF,eAAe;IACfJ;EACJ,CAAC;EACD,OAAO,CAACD,SAAS,EAAEQ,QAAQ,CAAC;AAChC;AAEA,SAASf,iBAAiB"},"metadata":{},"sourceType":"module"}